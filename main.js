(()=>{"use strict";var n={163:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(15),a=t.n(o),r=t(645),i=t.n(r)()(a());i.push([n.id,"\n.title {\n  text-align: center;\n  margin: 30px auto;\n}\n\n.d-none {\n  display: none;\n}\n\n.popOverlay {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.stopScroll {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.popContainer {\n  overflow-y: auto;\n  position: fixed;\n  display: flex;\n  flex-flow: column;\n  height: 90%;\n  width: 50%;\n  margin: 20px 25%;\n  padding: 40px 40px;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 2;\n  background-image: linear-gradient(to bottom right, #212529, #447a8f);\n  box-shadow: 4px 4px 20px rgb(207, 199, 199);\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n}\n\n.close-pop {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 2rem;\n  margin: 10px;\n}\n\nimg#poster {\n  width: 50%;\n  align-self: flex-start;\n  border: 3px solid #5abded;\n}\n\n.info {\n  display: flex;\n}\n\n.details {\n  width: 50%;\n  margin: 0 0 0 20px;\n}\n\n.comments-list {\n  padding-left: 0;\n  list-style: none;\n  background-color: #185770;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -ms-border-radius: 10px;\n  -o-border-radius: 10px;\n}\n\n.comment-container {\n  display: flex;\n  justify-content: space-between;\n  max-height: 100px;\n  padding: 10px;\n}\n\n#noCommentMessage {\n  background-color: #91643b;\n  border-radius: 10px;\n  padding: 10px;\n}\n\n.comment-container > * {\n  flex: 1;\n}\n\n.comment-description {\n  overflow-y: auto;\n  flex: 3;\n}\n\n.add-comment form {\n  display: flex;\n  flex-flow: column;\n  margin-bottom: 10px;\n  padding: 10px 50px;\n}\n\n.add-comment form > * {\n  margin: 10px 0 5px 0;\n}\n\n.add-comment form input,\n.add-comment form textarea {\n  width: 70%;\n  background-color: #185770;\n  border: 1px solid white;\n  color: #ffd809;\n  font-style: oblique;\n}\n\n.add-comment form #submit {\n  width: 40%;\n  border: none;\n  padding: 5px;\n  margin: 10px 0 5px 0;\n  box-shadow: 2px 2px 5px rgb(63, 59, 59);\n  border-radius: 2px;\n  background-color: #5abded;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  -ms-border-radius: 2px;\n  -o-border-radius: 2px;\n}\n\n.add-comment form #submit:active {\n  background-color: #ffd809;\n}\n\n.add-comment form #submit:hover {\n  transform: translateY(1px);\n  -webkit-transform: translateY(1px);\n  -moz-transform: translateY(1px);\n  -ms-transform: translateY(1px);\n  -o-transform: translateY(1px);\n}\n\n@media only screen and (max-width: 1000px) {\n  .popContainer {\n    width: 80%;\n    margin: 20px 10%;\n    padding: 40px 40px;\n  }\n}\n\n@media only screen and (max-width: 1500px) {\n  .popContainer {\n    width: 60%;\n    margin: 20px 20%;\n    padding: 40px 40px;\n  }\n}\n\n@media only screen and (max-width: 700px) {\n  .popContainer {\n    width: 90%;\n    margin: 20px 5%;\n    padding: 40px 10px;\n  }\n\n  .add-comment form {\n    margin-bottom: 10px;\n    padding: 10px;\n  }\n}\n\n@media only screen and (max-width: 800px) {\n  .info {\n    display: flex;\n    flex-flow: column;\n  }\n\n  img#poster,\n  .details {\n    width: 90%;\n  }\n}\n","",{version:3,sources:["webpack://./src/CSS/popup.css"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,UAAU;EACV,MAAM;EACN,SAAS;EACT,QAAQ;EACR,OAAO;EACP,oCAAoC;AACtC;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,iBAAiB;EACjB,WAAW;EACX,UAAU;EACV,gBAAgB;EAChB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,SAAS;EACT,UAAU;EACV,oEAAoE;EACpE,2CAA2C;EAC3C,kBAAkB;EAClB,0BAA0B;EAC1B,uBAAuB;EACvB,sBAAsB;EACtB,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,eAAe;EACf,YAAY;AACd;;AAEA;EACE,UAAU;EACV,sBAAsB;EACtB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,yBAAyB;EACzB,mBAAmB;EACnB,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,aAAa;AACf;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,gBAAgB;EAChB,OAAO;AACT;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;;EAEE,UAAU;EACV,yBAAyB;EACzB,uBAAuB;EACvB,cAAc;EACd,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,uCAAuC;EACvC,kBAAkB;EAClB,yBAAyB;EACzB,0BAA0B;EAC1B,uBAAuB;EACvB,sBAAsB;EACtB,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,0BAA0B;EAC1B,kCAAkC;EAClC,+BAA+B;EAC/B,8BAA8B;EAC9B,6BAA6B;AAC/B;;AAEA;EACE;IACE,UAAU;IACV,gBAAgB;IAChB,kBAAkB;EACpB;AACF;;AAEA;EACE;IACE,UAAU;IACV,gBAAgB;IAChB,kBAAkB;EACpB;AACF;;AAEA;EACE;IACE,UAAU;IACV,eAAe;IACf,kBAAkB;EACpB;;EAEA;IACE,mBAAmB;IACnB,aAAa;EACf;AACF;;AAEA;EACE;IACE,aAAa;IACb,iBAAiB;EACnB;;EAEA;;IAEE,UAAU;EACZ;AACF",sourcesContent:["\n.title {\n  text-align: center;\n  margin: 30px auto;\n}\n\n.d-none {\n  display: none;\n}\n\n.popOverlay {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.stopScroll {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.popContainer {\n  overflow-y: auto;\n  position: fixed;\n  display: flex;\n  flex-flow: column;\n  height: 90%;\n  width: 50%;\n  margin: 20px 25%;\n  padding: 40px 40px;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 2;\n  background-image: linear-gradient(to bottom right, #212529, #447a8f);\n  box-shadow: 4px 4px 20px rgb(207, 199, 199);\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n}\n\n.close-pop {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 2rem;\n  margin: 10px;\n}\n\nimg#poster {\n  width: 50%;\n  align-self: flex-start;\n  border: 3px solid #5abded;\n}\n\n.info {\n  display: flex;\n}\n\n.details {\n  width: 50%;\n  margin: 0 0 0 20px;\n}\n\n.comments-list {\n  padding-left: 0;\n  list-style: none;\n  background-color: #185770;\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -ms-border-radius: 10px;\n  -o-border-radius: 10px;\n}\n\n.comment-container {\n  display: flex;\n  justify-content: space-between;\n  max-height: 100px;\n  padding: 10px;\n}\n\n#noCommentMessage {\n  background-color: #91643b;\n  border-radius: 10px;\n  padding: 10px;\n}\n\n.comment-container > * {\n  flex: 1;\n}\n\n.comment-description {\n  overflow-y: auto;\n  flex: 3;\n}\n\n.add-comment form {\n  display: flex;\n  flex-flow: column;\n  margin-bottom: 10px;\n  padding: 10px 50px;\n}\n\n.add-comment form > * {\n  margin: 10px 0 5px 0;\n}\n\n.add-comment form input,\n.add-comment form textarea {\n  width: 70%;\n  background-color: #185770;\n  border: 1px solid white;\n  color: #ffd809;\n  font-style: oblique;\n}\n\n.add-comment form #submit {\n  width: 40%;\n  border: none;\n  padding: 5px;\n  margin: 10px 0 5px 0;\n  box-shadow: 2px 2px 5px rgb(63, 59, 59);\n  border-radius: 2px;\n  background-color: #5abded;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  -ms-border-radius: 2px;\n  -o-border-radius: 2px;\n}\n\n.add-comment form #submit:active {\n  background-color: #ffd809;\n}\n\n.add-comment form #submit:hover {\n  transform: translateY(1px);\n  -webkit-transform: translateY(1px);\n  -moz-transform: translateY(1px);\n  -ms-transform: translateY(1px);\n  -o-transform: translateY(1px);\n}\n\n@media only screen and (max-width: 1000px) {\n  .popContainer {\n    width: 80%;\n    margin: 20px 10%;\n    padding: 40px 40px;\n  }\n}\n\n@media only screen and (max-width: 1500px) {\n  .popContainer {\n    width: 60%;\n    margin: 20px 20%;\n    padding: 40px 40px;\n  }\n}\n\n@media only screen and (max-width: 700px) {\n  .popContainer {\n    width: 90%;\n    margin: 20px 5%;\n    padding: 40px 10px;\n  }\n\n  .add-comment form {\n    margin-bottom: 10px;\n    padding: 10px;\n  }\n}\n\n@media only screen and (max-width: 800px) {\n  .info {\n    display: flex;\n    flex-flow: column;\n  }\n\n  img#poster,\n  .details {\n    width: 90%;\n  }\n}\n"],sourceRoot:""}]);const s=i},147:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(15),a=t.n(o),r=t(645),i=t.n(r)()(a());i.push([n.id,"body {\n  background-color: black;\n}\n\n.list {\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin: 20px;\n}\n\n.card-img-top,\n.card-title,\n.fa-comment-dots,\n.fa-heart {\n  cursor: pointer;\n}\n\n.fa-comment-dots,\n.fa-heart {\n  font-size: 20px;\n}\n","",{version:3,sources:["webpack://./src/CSS/style.css"],names:[],mappings:"AAAA;EACE,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,eAAe;EACf,YAAY;AACd;;AAEA;;;;EAIE,eAAe;AACjB;;AAEA;;EAEE,eAAe;AACjB",sourcesContent:["body {\n  background-color: black;\n}\n\n.list {\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin: 20px;\n}\n\n.card-img-top,\n.card-title,\n.fa-comment-dots,\n.fa-heart {\n  cursor: pointer;\n}\n\n.fa-comment-dots,\n.fa-heart {\n  font-size: 20px;\n}\n"],sourceRoot:""}]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,o){"string"==typeof n&&(n=[[null,n,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<n.length;s++){var d=[].concat(n[s]);o&&a[d[0]]||(t&&(d[2]?d[2]="".concat(t," and ").concat(d[2]):d[2]=t),e.push(d))}},e}},15:n=>{function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}n.exports=function(n){var t,o,a=(o=4,function(n){if(Array.isArray(n))return n}(t=n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,a,r=[],i=!0,s=!1;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(n){s=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return r}}(t,o)||function(n,t){if(n){if("string"==typeof n)return e(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(n,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=a[1],i=a[3];if(!i)return r;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),A="/*# ".concat(d," */"),c=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[r].concat(c).concat([A]).join("\n")}return[r].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},i=[],s=0;s<n.length;s++){var d=n[s],A=o.base?d[0]+o.base:d[0],c=r[A]||0,l="".concat(A," ").concat(c);r[A]=c+1;var m=t(l),p={css:d[1],media:d[2],sourceMap:d[3]};-1!==m?(e[m].references++,e[m].updater(p)):e.push({identifier:l,updater:a(p,o),references:1}),i.push(l)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var r=o(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var s=t(r[i]);e[s].references--}for(var d=o(n,a),A=0;A<r.length;A++){var c=t(r[A]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=d}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o=t.css,a=t.media,r=t.sourceMap;a?n.setAttribute("media",a):n.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=t(379),e=t.n(n),o=t(795),a=t.n(o),r=t(569),i=t.n(r),s=t(565),d=t.n(s),A=t(216),c=t.n(A),l=t(589),m=t.n(l),p=t(147),u={};u.styleTagTransform=m(),u.setAttributes=d(),u.insert=i().bind(null,"head"),u.domAPI=a(),u.insertStyleElement=c(),e()(p.Z,u),p.Z&&p.Z.locals&&p.Z.locals;var f=t(163),E={};E.styleTagTransform=m(),E.setAttributes=d(),E.insert=i().bind(null,"head"),E.domAPI=a(),E.insertStyleElement=c(),e()(f.Z,E),f.Z&&f.Z.locals&&f.Z.locals;const x=(n,e)=>{const t=document.getElementById(e),o=document.createElement("div");o.id=`list-${e}`,o.classList.add("list"),n!==[]&&n.forEach((n=>{const{image:e,id:t,title:a}=n,r=`<div id="${t}" class="card m-2 bg-dark text-light" style="width: 12rem;">\n    <img id ="img${t}" src="${e}" class="card-img-top" alt="${a}">\n    <div class="card-body d-flex flex-column align-items-start">\n    <div>\n    <div class=''>\n    <i id ="like${t}" class="far fa-heart text-danger my-2"></i> <span id= 'likeCounter${t}' class="likes"></span>\n    <i id ="comment${t}" class="fas fa-comment-dots mx-2"></i>\n    </div>\n    </div>\n      <h5 id ="title${t}" class="card-title">${a}</h5>\n    </div>\n    </div>`;o.insertAdjacentHTML("beforeend",r)})),t.appendChild(o)},C=n=>{const e=document.querySelector(".comments-list"),t=document.getElementById("noCommentMessage");0===n.length?(e.innerHTML="",t.classList.remove("d-none")):(t.classList.add("d-none"),e.innerHTML="",n.forEach((n=>{const t=`<li class='comment-container'>\n      <p class='comment-time'>${n.creation_date}</p>\n      <p class='comment-name'>${n.username}</p>\n      <p class='comment-description'>${n.comment}</p>\n      </li>\n      `;e.innerHTML+=t})))},g=n=>{document.querySelector("#comments-counter-popup").innerText=n},h=(n,e)=>{document.getElementById(`${e}-movies-counter`).innerText=n},B=()=>{const n=document.getElementById("submitError");document.getElementById("name").value="",document.getElementById("comment-description").value="",n.classList.add("d-none")},b=n=>{const e=document.getElementById(`like${n}`);e.classList.remove("far"),e.classList.add("fas")},v=n=>n.length,y=n=>n.length;class w{constructor(n){this.baseUrl="https://api.themoviedb.org/3/movie/",this.apiKey="3e6e2ef61d4b19645d93d55c93096241",this.type=n,this.data=[]}async getData(){const n=`${this.baseUrl+this.type}?api_key=${this.apiKey}`;await fetch(n).then((n=>n.json())).then((n=>{this.filterData(n.results)}))}filterData=n=>{n.forEach((n=>{this.data.push({title:n.title,image:`https://image.tmdb.org/t/p/w500${n.poster_path}`,id:n.id,overview:n.overview,release_date:n.release_date,vote_average:n.vote_average})}))};movieInfo=n=>{let e=null;return this.data.forEach((t=>{t.id===parseInt(n,10)&&(e=t)})),e}}const k=new w("upcoming"),I=new w("popular"),S=new w("top_rated"),L=new class{constructor(){this.url="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/oCr8tT2XFGQpncz4Ebxe",this.popupComments=[],this.likes=[]}async addComment(n,e,t){const o=`${this.url}/comments`;await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n,username:e,comment:t})})}async getComments(n){const e=`${this.url}/comments?item_id=${n}`;this.popupComments=[],await fetch(e).then((n=>n.json())).then((n=>{void 0===n.error&&(this.popupComments=n)}))}async addLike(n){const e=`${this.url}/likes`;await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:n})})}async getLikes(){const n=`${this.url}/likes`;this.likes=[],await fetch(n).then((n=>n.json())).then((n=>{void 0===n.error&&(this.likes=n)}))}},T=new class{constructor(n){this.data=[],this.itemName=n,this.getItems()}getItems(){const n=JSON.parse(localStorage.getItem(this.itemName));null!==n&&(this.data=n)}setItems(){localStorage.setItem(this.itemName,JSON.stringify(this.data))}pushItem(n){this.data.push(n),this.setItems()}containItem(n){return-1!==this.data.indexOf(n)}}("userLikes");document.addEventListener("DOMContentLoaded",(()=>{document.body.innerHTML+='<div class="popOverlay d-none"></div>\n    <div class="popContainer d-none text-light">\n        <i class="fas fa-times close-pop"></i>\n        <div class=\'info\'>\n          <img id=\'poster\' src="#" alt="poster">\n          <div class="details">\n            <h2 class="title"></h2>\n            <p class="release_date">Release Date : <span id="date"></span> </p>\n            <p class="vote_average">Voting Average : <span id="vote"></span></p>\n            <div class="overview">\n              <h4>Overview : </h4>\n              <p id="overview-txt"></p>\n            </div>\n          </div>  \n        </div>\n        <div class="comments">\n            <h2 class="comments-title title">Comments (<span id="comments-counter-popup"></span>)</h2>\n            <div id=\'noCommentMessage\'>\n                    <p>No comments yet 😢 </p>\n                    <p>Add you comment below ⤵️</p>\n            </div>\n            <ul class=\'comments-list\'>\n                \n            </ul>\n        </div>\n        <input id=\'idHiddenInput\' class=\'d-none\'>\n        <div class="add-comment">\n            <h2 class="add-comment title">Add a Comment</h2>\n            <form action="#">\n                <label for="name">Name:</label>\n                <input id="name" type="text" placeholder="Rachid Ahmad" required>\n                <label for="comment-description">Comment:</label>\n                <textarea name="comment" id="comment-description" cols="30" rows="6" placeholder="it is amazing !" required></textarea>\n                <button id="submit" type="submit">Comment</button>\n                <p id=\'submitError\'  class=\'text-danger\'>Values are Required</p>\n            </form>\n        </div>\n    </div>';const n=document.getElementById("submit"),e=document.getElementById("name"),t=document.getElementById("comment-description"),o=document.querySelector(".close-pop"),a=document.querySelector(".popOverlay"),r=document.querySelector(".popContainer"),i=document.getElementById("submitError");let s=null;const d=n=>{document.getElementById(`list-${n}`).addEventListener("click",(e=>{let t=null,o=!1;e.target.classList.contains("card-img-top")&&(t=e.target.id.replace("img",""),o=!0),e.target.classList.contains("card-title")&&(t=e.target.id.replace("title",""),o=!0),e.target.classList.contains("fa-comment-dots")&&(t=e.target.id.replace("comment",""),o=!0),e.target.classList.contains("fa-heart")&&(t=e.target.id.replace("like",""),T.containItem(t)||L.addLike(t).then((()=>{(n=>{const e=`likeCounter${n}`,t=document.getElementById(e),o=t.innerHTML;t.innerHTML=""===o?1:parseInt(o,10)+1})(t),b(t),T.pushItem(t)}))),o&&(B(),((n,e)=>{let t=null;switch(e){case"upcoming":t=k.movieInfo(n);break;case"popular":t=I.movieInfo(n);break;case"top_rated":t=S.movieInfo(n);break;default:t=null}(n=>{const e=document.querySelector(".popOverlay"),t=document.querySelector(".popContainer");e.classList.remove("d-none"),t.classList.remove("d-none");const o=document.querySelector(".title"),a=document.querySelector("#poster"),r=document.querySelector("#date"),i=document.querySelector("#vote"),s=document.querySelector("#overview-txt");o.innerText=n.title,a.src=n.image,r.innerText=n.release_date,i.innerText=n.vote_average,s.innerText=n.overview})(t),L.getComments(n).then((()=>{C(L.popupComments),g(v(L.popupComments))})),document.getElementById("idHiddenInput").value=n})(t,n))}))};k.getData().then((()=>{x(k.data,"upcoming"),d("upcoming"),s=y(k.data),h(s,"upcoming")})),I.getData().then((()=>{x(I.data,"popular"),d("popular"),s=y(I.data),h(s,"popular")})),S.getData().then((()=>{x(S.data,"top_rated"),d("top_rated"),s=y(S.data),h(s,"top_rated")})),L.getLikes().then((()=>{L.likes.forEach((n=>{const e=`likeCounter${n.item_id}`,t=document.getElementById(e),o=n.likes;null!==t&&(t.innerHTML=o)})),null!==T.data&&T.data.forEach((n=>{b(n)}))})),n.addEventListener("click",(n=>{n.preventDefault();const o=document.getElementById("idHiddenInput").value;""===e.value||""===t.value?i.classList.remove("d-none"):(L.addComment(o,e.value,t.value).then((()=>{L.getComments(o).then((()=>{C(L.popupComments),g(v(L.popupComments))}))})),B())})),o.addEventListener("click",(()=>{r.classList.add("d-none"),a.classList.add("d-none")})),a.addEventListener("click",(()=>{r.classList.add("d-none"),a.classList.add("d-none")}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBcUJGLEVBQVMsZ0JBR2hDaUMsRUFBWWtELFdBQVdsRSxNQUFLLEtBQ1ZnQixFQUFZRyxNSFd4Qm5ELFNBQVNtRyxJQUNiLE1BQU1iLEVBQWMsY0FBY2EsRUFBSzNDLFVBQ2pDK0IsRUFBWXhJLFNBQVM4QyxlQUFleUYsR0FDcENjLEVBQWFELEVBQUtoRCxNQUNOLE9BQWRvQyxJQUNGQSxFQUFVOUUsVUFBWTJGLE1HbEdELE9BQW5CeEMsRUFBVXBKLE1BQ1pvSixFQUFVcEosS0FBS3dGLFNBQVMyRCxJQUN0QnZDLEVBQWV1QyxTQW9GckJlLEVBQWNELGlCQUFpQixTQUFVUSxJQUN2Q0EsRUFBTW9CLGlCQUNOLE1BQU14UCxFQUFLa0csU0FBUzhDLGVBQWUsaUJBQWlCNUcsTUFDakMsS0FBZlUsRUFBS1YsT0FBNkMsS0FBN0IwTCxFQUFtQjFMLE1BQzFDa0ksRUFBWXJCLFVBQVUxRCxPQUFPLFdBRTdCNEcsRUFBWXNELFdBQVd6UCxFQUFJOEMsRUFBS1YsTUFBTzBMLEVBQW1CMUwsT0FBTytJLE1BQUssS0FDcEVnQixFQUFZK0MsWUFBWWxQLEdBQUltTCxNQUFLLEtBQy9CMUIsRUFBZ0IwQyxFQUFZRSxlQUM1QnBDLEVBQXVCUSxFQUFnQjBCLEVBQVlFLHNCQUd2RGhDLFFBR0owRCxFQUFTSCxpQkFBaUIsU0FBUyxLQUNqQ0ssRUFBTWhGLFVBQVVDLElBQUksVUFDcEI4RSxFQUFRL0UsVUFBVUMsSUFBSSxhQUd4QjhFLEVBQVFKLGlCQUFpQixTQUFTLEtBQ2hDSyxFQUFNaEYsVUFBVUMsSUFBSSxVQUNwQjhFLEVBQVEvRSxVQUFVQyxJQUFJLGlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS8uL3NyYy9DU1MvcG9wdXAuY3NzIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvQ1NTL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvQ1NTL3N0eWxlLmNzcz9hMWNmIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvQ1NTL3BvcHVwLmNzcz82ZjAxIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvSlMvZGlzcGxheS5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vc3JjL0pTL2NvdW50ZXJzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvSlMvTW92aWVzLmpzIiwid2VicGFjazovL2phdmFzY3JpcHQtY2Fwc3RvbmUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vamF2YXNjcmlwdC1jYXBzdG9uZS8uL3NyYy9KUy9pbnZvbHZlbWVudEFQSS5qcyIsIndlYnBhY2s6Ly9qYXZhc2NyaXB0LWNhcHN0b25lLy4vc3JjL0pTL0xvY2FsU3RvcmFnZUhlbHBlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlxcbi50aXRsZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDMwcHggYXV0bztcXG59XFxuXFxuLmQtbm9uZSB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4ucG9wT3ZlcmxheSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDE7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGxlZnQ6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XFxufVxcblxcbi5zdG9wU2Nyb2xsIHtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIGhlaWdodDogMTAwdmg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4ucG9wQ29udGFpbmVyIHtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1mbG93OiBjb2x1bW47XFxuICBoZWlnaHQ6IDkwJTtcXG4gIHdpZHRoOiA1MCU7XFxuICBtYXJnaW46IDIwcHggMjUlO1xcbiAgcGFkZGluZzogNDBweCA0MHB4O1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDI7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tIHJpZ2h0LCAjMjEyNTI5LCAjNDQ3YThmKTtcXG4gIGJveC1zaGFkb3c6IDRweCA0cHggMjBweCByZ2IoMjA3LCAxOTksIDE5OSk7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtcXG4gIC1tb3otYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgLW1zLWJvcmRlci1yYWRpdXM6IDVweDtcXG4gIC1vLWJvcmRlci1yYWRpdXM6IDVweDtcXG59XFxuXFxuLmNsb3NlLXBvcCB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICByaWdodDogMDtcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXG4gIG1hcmdpbjogMTBweDtcXG59XFxuXFxuaW1nI3Bvc3RlciB7XFxuICB3aWR0aDogNTAlO1xcbiAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcXG4gIGJvcmRlcjogM3B4IHNvbGlkICM1YWJkZWQ7XFxufVxcblxcbi5pbmZvIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5kZXRhaWxzIHtcXG4gIHdpZHRoOiA1MCU7XFxuICBtYXJnaW46IDAgMCAwIDIwcHg7XFxufVxcblxcbi5jb21tZW50cy1saXN0IHtcXG4gIHBhZGRpbmctbGVmdDogMDtcXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTg1NzcwO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIC1tb3otYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIC1tcy1ib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgLW8tYm9yZGVyLXJhZGl1czogMTBweDtcXG59XFxuXFxuLmNvbW1lbnQtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICBtYXgtaGVpZ2h0OiAxMDBweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxufVxcblxcbiNub0NvbW1lbnRNZXNzYWdlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5MTY0M2I7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgcGFkZGluZzogMTBweDtcXG59XFxuXFxuLmNvbW1lbnQtY29udGFpbmVyID4gKiB7XFxuICBmbGV4OiAxO1xcbn1cXG5cXG4uY29tbWVudC1kZXNjcmlwdGlvbiB7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgZmxleDogMztcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZmxvdzogY29sdW1uO1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIHBhZGRpbmc6IDEwcHggNTBweDtcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0gPiAqIHtcXG4gIG1hcmdpbjogMTBweCAwIDVweCAwO1xcbn1cXG5cXG4uYWRkLWNvbW1lbnQgZm9ybSBpbnB1dCxcXG4uYWRkLWNvbW1lbnQgZm9ybSB0ZXh0YXJlYSB7XFxuICB3aWR0aDogNzAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4NTc3MDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xcbiAgY29sb3I6ICNmZmQ4MDk7XFxuICBmb250LXN0eWxlOiBvYmxpcXVlO1xcbn1cXG5cXG4uYWRkLWNvbW1lbnQgZm9ybSAjc3VibWl0IHtcXG4gIHdpZHRoOiA0MCU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBtYXJnaW46IDEwcHggMCA1cHggMDtcXG4gIGJveC1zaGFkb3c6IDJweCAycHggNXB4IHJnYig2MywgNTksIDU5KTtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1YWJkZWQ7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcXG4gIC1tb3otYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgLW1zLWJvcmRlci1yYWRpdXM6IDJweDtcXG4gIC1vLWJvcmRlci1yYWRpdXM6IDJweDtcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0gI3N1Ym1pdDphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDgwOTtcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0gI3N1Ym1pdDpob3ZlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XFxuICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xcbiAgLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XFxufVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAwMHB4KSB7XFxuICAucG9wQ29udGFpbmVyIHtcXG4gICAgd2lkdGg6IDgwJTtcXG4gICAgbWFyZ2luOiAyMHB4IDEwJTtcXG4gICAgcGFkZGluZzogNDBweCA0MHB4O1xcbiAgfVxcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDE1MDBweCkge1xcbiAgLnBvcENvbnRhaW5lciB7XFxuICAgIHdpZHRoOiA2MCU7XFxuICAgIG1hcmdpbjogMjBweCAyMCU7XFxuICAgIHBhZGRpbmc6IDQwcHggNDBweDtcXG4gIH1cXG59XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3MDBweCkge1xcbiAgLnBvcENvbnRhaW5lciB7XFxuICAgIHdpZHRoOiA5MCU7XFxuICAgIG1hcmdpbjogMjBweCA1JTtcXG4gICAgcGFkZGluZzogNDBweCAxMHB4O1xcbiAgfVxcblxcbiAgLmFkZC1jb21tZW50IGZvcm0ge1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbiAgICBwYWRkaW5nOiAxMHB4O1xcbiAgfVxcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDgwMHB4KSB7XFxuICAuaW5mbyB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZmxvdzogY29sdW1uO1xcbiAgfVxcblxcbiAgaW1nI3Bvc3RlcixcXG4gIC5kZXRhaWxzIHtcXG4gICAgd2lkdGg6IDkwJTtcXG4gIH1cXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL0NTUy9wb3B1cC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osZUFBZTtFQUNmLFVBQVU7RUFDVixNQUFNO0VBQ04sU0FBUztFQUNULFFBQVE7RUFDUixPQUFPO0VBQ1Asb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsV0FBVztFQUNYLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsU0FBUztFQUNULFVBQVU7RUFDVixvRUFBb0U7RUFDcEUsMkNBQTJDO0VBQzNDLGtCQUFrQjtFQUNsQiwwQkFBMEI7RUFDMUIsdUJBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixRQUFRO0VBQ1IsZUFBZTtFQUNmLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7RUFDVixzQkFBc0I7RUFDdEIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQiwyQkFBMkI7RUFDM0Isd0JBQXdCO0VBQ3hCLHVCQUF1QjtFQUN2QixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLGlCQUFpQjtFQUNqQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLE9BQU87QUFDVDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixPQUFPO0FBQ1Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxvQkFBb0I7QUFDdEI7O0FBRUE7O0VBRUUsVUFBVTtFQUNWLHlCQUF5QjtFQUN6Qix1QkFBdUI7RUFDdkIsY0FBYztFQUNkLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFVBQVU7RUFDVixZQUFZO0VBQ1osWUFBWTtFQUNaLG9CQUFvQjtFQUNwQix1Q0FBdUM7RUFDdkMsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QiwwQkFBMEI7RUFDMUIsdUJBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwwQkFBMEI7RUFDMUIsa0NBQWtDO0VBQ2xDLCtCQUErQjtFQUMvQiw4QkFBOEI7RUFDOUIsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtFQUNwQjtBQUNGOztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtFQUNwQjtBQUNGOztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixhQUFhO0VBQ2Y7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsYUFBYTtJQUNiLGlCQUFpQjtFQUNuQjs7RUFFQTs7SUFFRSxVQUFVO0VBQ1o7QUFDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJcXG4udGl0bGUge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWFyZ2luOiAzMHB4IGF1dG87XFxufVxcblxcbi5kLW5vbmUge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnBvcE92ZXJsYXkge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiAxO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBsZWZ0OiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xcbn1cXG5cXG4uc3RvcFNjcm9sbCB7XFxuICB3aWR0aDogMTAwdnc7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLnBvcENvbnRhaW5lciB7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZmxvdzogY29sdW1uO1xcbiAgaGVpZ2h0OiA5MCU7XFxuICB3aWR0aDogNTAlO1xcbiAgbWFyZ2luOiAyMHB4IDI1JTtcXG4gIHBhZGRpbmc6IDQwcHggNDBweDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBib3R0b206IDA7XFxuICB6LWluZGV4OiAyO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSByaWdodCwgIzIxMjUyOSwgIzQ0N2E4Zik7XFxuICBib3gtc2hhZG93OiA0cHggNHB4IDIwcHggcmdiKDIwNywgMTk5LCAxOTkpO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7XFxuICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcXG4gIC1tcy1ib3JkZXItcmFkaXVzOiA1cHg7XFxuICAtby1ib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcblxcbi5jbG9zZS1wb3Age1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBmb250LXNpemU6IDJyZW07XFxuICBtYXJnaW46IDEwcHg7XFxufVxcblxcbmltZyNwb3N0ZXIge1xcbiAgd2lkdGg6IDUwJTtcXG4gIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XFxuICBib3JkZXI6IDNweCBzb2xpZCAjNWFiZGVkO1xcbn1cXG5cXG4uaW5mbyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uZGV0YWlscyB7XFxuICB3aWR0aDogNTAlO1xcbiAgbWFyZ2luOiAwIDAgMCAyMHB4O1xcbn1cXG5cXG4uY29tbWVudHMtbGlzdCB7XFxuICBwYWRkaW5nLWxlZnQ6IDA7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4NTc3MDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICAtbW96LWJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICAtbXMtYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIC1vLWJvcmRlci1yYWRpdXM6IDEwcHg7XFxufVxcblxcbi5jb21tZW50LWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgbWF4LWhlaWdodDogMTAwcHg7XFxuICBwYWRkaW5nOiAxMHB4O1xcbn1cXG5cXG4jbm9Db21tZW50TWVzc2FnZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTE2NDNiO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxufVxcblxcbi5jb21tZW50LWNvbnRhaW5lciA+ICoge1xcbiAgZmxleDogMTtcXG59XFxuXFxuLmNvbW1lbnQtZGVzY3JpcHRpb24ge1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIGZsZXg6IDM7XFxufVxcblxcbi5hZGQtY29tbWVudCBmb3JtIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWZsb3c6IGNvbHVtbjtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICBwYWRkaW5nOiAxMHB4IDUwcHg7XFxufVxcblxcbi5hZGQtY29tbWVudCBmb3JtID4gKiB7XFxuICBtYXJnaW46IDEwcHggMCA1cHggMDtcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0gaW5wdXQsXFxuLmFkZC1jb21tZW50IGZvcm0gdGV4dGFyZWEge1xcbiAgd2lkdGg6IDcwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMxODU3NzA7XFxuICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcXG4gIGNvbG9yOiAjZmZkODA5O1xcbiAgZm9udC1zdHlsZTogb2JsaXF1ZTtcXG59XFxuXFxuLmFkZC1jb21tZW50IGZvcm0gI3N1Ym1pdCB7XFxuICB3aWR0aDogNDAlO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogNXB4O1xcbiAgbWFyZ2luOiAxMHB4IDAgNXB4IDA7XFxuICBib3gtc2hhZG93OiAycHggMnB4IDVweCByZ2IoNjMsIDU5LCA1OSk7XFxuICBib3JkZXItcmFkaXVzOiAycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWFiZGVkO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XFxuICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcXG4gIC1tcy1ib3JkZXItcmFkaXVzOiAycHg7XFxuICAtby1ib3JkZXItcmFkaXVzOiAycHg7XFxufVxcblxcbi5hZGQtY29tbWVudCBmb3JtICNzdWJtaXQ6YWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmQ4MDk7XFxufVxcblxcbi5hZGQtY29tbWVudCBmb3JtICNzdWJtaXQ6aG92ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xcbiAgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcXG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcXG4gIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwMDBweCkge1xcbiAgLnBvcENvbnRhaW5lciB7XFxuICAgIHdpZHRoOiA4MCU7XFxuICAgIG1hcmdpbjogMjBweCAxMCU7XFxuICAgIHBhZGRpbmc6IDQwcHggNDBweDtcXG4gIH1cXG59XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxNTAwcHgpIHtcXG4gIC5wb3BDb250YWluZXIge1xcbiAgICB3aWR0aDogNjAlO1xcbiAgICBtYXJnaW46IDIwcHggMjAlO1xcbiAgICBwYWRkaW5nOiA0MHB4IDQwcHg7XFxuICB9XFxufVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzAwcHgpIHtcXG4gIC5wb3BDb250YWluZXIge1xcbiAgICB3aWR0aDogOTAlO1xcbiAgICBtYXJnaW46IDIwcHggNSU7XFxuICAgIHBhZGRpbmc6IDQwcHggMTBweDtcXG4gIH1cXG5cXG4gIC5hZGQtY29tbWVudCBmb3JtIHtcXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gICAgcGFkZGluZzogMTBweDtcXG4gIH1cXG59XFxuXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkge1xcbiAgLmluZm8ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWZsb3c6IGNvbHVtbjtcXG4gIH1cXG5cXG4gIGltZyNwb3N0ZXIsXFxuICAuZGV0YWlscyB7XFxuICAgIHdpZHRoOiA5MCU7XFxuICB9XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxufVxcblxcbi5saXN0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGZsZXgtd3JhcDogd3JhcDtcXG4gIG1hcmdpbjogMjBweDtcXG59XFxuXFxuLmNhcmQtaW1nLXRvcCxcXG4uY2FyZC10aXRsZSxcXG4uZmEtY29tbWVudC1kb3RzLFxcbi5mYS1oZWFydCB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5mYS1jb21tZW50LWRvdHMsXFxuLmZhLWhlYXJ0IHtcXG4gIGZvbnQtc2l6ZTogMjBweDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL0NTUy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGVBQWU7RUFDZixZQUFZO0FBQ2Q7O0FBRUE7Ozs7RUFJRSxlQUFlO0FBQ2pCOztBQUVBOztFQUVFLGVBQWU7QUFDakJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXG59XFxuXFxuLmxpc3Qge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZmxleC13cmFwOiB3cmFwO1xcbiAgbWFyZ2luOiAyMHB4O1xcbn1cXG5cXG4uY2FyZC1pbWctdG9wLFxcbi5jYXJkLXRpdGxlLFxcbi5mYS1jb21tZW50LWRvdHMsXFxuLmZhLWhlYXJ0IHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLmZhLWNvbW1lbnQtZG90cyxcXG4uZmEtaGVhcnQge1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoc3R5bGUsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGUpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGUpIHtcbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wb3B1cC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3BvcHVwLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNvbnN0IGFkZFBvcHVwVG9Eb20gPSAoKSA9PiB7XG4gIGNvbnN0IHBvcHVwID0gYDxkaXYgY2xhc3M9XCJwb3BPdmVybGF5IGQtbm9uZVwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwb3BDb250YWluZXIgZC1ub25lIHRleHQtbGlnaHRcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdGltZXMgY2xvc2UtcG9wXCI+PC9pPlxuICAgICAgICA8ZGl2IGNsYXNzPSdpbmZvJz5cbiAgICAgICAgICA8aW1nIGlkPSdwb3N0ZXInIHNyYz1cIiNcIiBhbHQ9XCJwb3N0ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsc1wiPlxuICAgICAgICAgICAgPGgyIGNsYXNzPVwidGl0bGVcIj48L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJyZWxlYXNlX2RhdGVcIj5SZWxlYXNlIERhdGUgOiA8c3BhbiBpZD1cImRhdGVcIj48L3NwYW4+IDwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidm90ZV9hdmVyYWdlXCI+Vm90aW5nIEF2ZXJhZ2UgOiA8c3BhbiBpZD1cInZvdGVcIj48L3NwYW4+PC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm92ZXJ2aWV3XCI+XG4gICAgICAgICAgICAgIDxoND5PdmVydmlldyA6IDwvaDQ+XG4gICAgICAgICAgICAgIDxwIGlkPVwib3ZlcnZpZXctdHh0XCI+PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50c1wiPlxuICAgICAgICAgICAgPGgyIGNsYXNzPVwiY29tbWVudHMtdGl0bGUgdGl0bGVcIj5Db21tZW50cyAoPHNwYW4gaWQ9XCJjb21tZW50cy1jb3VudGVyLXBvcHVwXCI+PC9zcGFuPik8L2gyPlxuICAgICAgICAgICAgPGRpdiBpZD0nbm9Db21tZW50TWVzc2FnZSc+XG4gICAgICAgICAgICAgICAgICAgIDxwPk5vIGNvbW1lbnRzIHlldCDwn5iiIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+QWRkIHlvdSBjb21tZW50IGJlbG93IOKkte+4jzwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHVsIGNsYXNzPSdjb21tZW50cy1saXN0Jz5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aW5wdXQgaWQ9J2lkSGlkZGVuSW5wdXQnIGNsYXNzPSdkLW5vbmUnPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLWNvbW1lbnRcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzcz1cImFkZC1jb21tZW50IHRpdGxlXCI+QWRkIGEgQ29tbWVudDwvaDI+XG4gICAgICAgICAgICA8Zm9ybSBhY3Rpb249XCIjXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm5hbWVcIj5OYW1lOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwibmFtZVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJSYWNoaWQgQWhtYWRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29tbWVudC1kZXNjcmlwdGlvblwiPkNvbW1lbnQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT1cImNvbW1lbnRcIiBpZD1cImNvbW1lbnQtZGVzY3JpcHRpb25cIiBjb2xzPVwiMzBcIiByb3dzPVwiNlwiIHBsYWNlaG9sZGVyPVwiaXQgaXMgYW1hemluZyAhXCIgcmVxdWlyZWQ+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic3VibWl0XCIgdHlwZT1cInN1Ym1pdFwiPkNvbW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8cCBpZD0nc3VibWl0RXJyb3InICBjbGFzcz0ndGV4dC1kYW5nZXInPlZhbHVlcyBhcmUgUmVxdWlyZWQ8L3A+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG4gIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICs9IHBvcHVwO1xufTtcblxuY29uc3QgZGlzcGxheU1vdmllcyA9IChkYXRhLCBzZWN0aW9uSWQpID0+IHtcbiAgY29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb25JZCk7XG4gIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGlzdC5pZCA9IGBsaXN0LSR7c2VjdGlvbklkfWA7XG4gIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdCcpO1xuICBpZiAoZGF0YSAhPT0gW10pIHtcbiAgICBkYXRhLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgY29uc3QgeyBpbWFnZSwgaWQsIHRpdGxlIH0gPSByb3c7XG4gICAgICBjb25zdCBjYXJkID0gYDxkaXYgaWQ9XCIke2lkfVwiIGNsYXNzPVwiY2FyZCBtLTIgYmctZGFyayB0ZXh0LWxpZ2h0XCIgc3R5bGU9XCJ3aWR0aDogMTJyZW07XCI+XG4gICAgPGltZyBpZCA9XCJpbWcke2lkfVwiIHNyYz1cIiR7aW1hZ2V9XCIgY2xhc3M9XCJjYXJkLWltZy10b3BcIiBhbHQ9XCIke3RpdGxlfVwiPlxuICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLXN0YXJ0XCI+XG4gICAgPGRpdj5cbiAgICA8ZGl2IGNsYXNzPScnPlxuICAgIDxpIGlkID1cImxpa2Uke2lkfVwiIGNsYXNzPVwiZmFyIGZhLWhlYXJ0IHRleHQtZGFuZ2VyIG15LTJcIj48L2k+IDxzcGFuIGlkPSAnbGlrZUNvdW50ZXIke2lkfScgY2xhc3M9XCJsaWtlc1wiPjwvc3Bhbj5cbiAgICA8aSBpZCA9XCJjb21tZW50JHtpZH1cIiBjbGFzcz1cImZhcyBmYS1jb21tZW50LWRvdHMgbXgtMlwiPjwvaT5cbiAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAgIDxoNSBpZCA9XCJ0aXRsZSR7aWR9XCIgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JHt0aXRsZX08L2g1PlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG4gICAgICBsaXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY2FyZCk7XG4gICAgfSk7XG4gIH1cbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChsaXN0KTtcbn07XG5cbmNvbnN0IGRpc3BsYXlNb3ZpZURldGFpbHMgPSAobW92aWUpID0+IHtcbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3BPdmVybGF5Jyk7XG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcENvbnRhaW5lcicpO1xuICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcbiAgY29uc3QgcG9zdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bvc3RlcicpO1xuICBjb25zdCByZWxlYXNlRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRlJyk7XG4gIGNvbnN0IHZvdGluZ0F2ZXJhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdm90ZScpO1xuICBjb25zdCBvdmVydmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdmVydmlldy10eHQnKTtcbiAgdGl0bGUuaW5uZXJUZXh0ID0gbW92aWUudGl0bGU7XG4gIHBvc3Rlci5zcmMgPSBtb3ZpZS5pbWFnZTtcbiAgcmVsZWFzZURhdGUuaW5uZXJUZXh0ID0gbW92aWUucmVsZWFzZV9kYXRlO1xuICB2b3RpbmdBdmVyYWdlLmlubmVyVGV4dCA9IG1vdmllLnZvdGVfYXZlcmFnZTtcbiAgb3ZlcnZpZXcuaW5uZXJUZXh0ID0gbW92aWUub3ZlcnZpZXc7XG59O1xuXG5jb25zdCBkaXNwbGF5Q29tbWVudHMgPSAoY29tbWVudHMpID0+IHtcbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21tZW50cy1saXN0Jyk7XG4gIGNvbnN0IG5vQ29tbWVudE1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9Db21tZW50TWVzc2FnZScpO1xuICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICBub0NvbW1lbnRNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICB9IGVsc2Uge1xuICAgIG5vQ29tbWVudE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgbGlzdC5pbm5lckhUTUwgPSAnJztcbiAgICBjb21tZW50cy5mb3JFYWNoKChjb21tZW50KSA9PiB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBgPGxpIGNsYXNzPSdjb21tZW50LWNvbnRhaW5lcic+XG4gICAgICA8cCBjbGFzcz0nY29tbWVudC10aW1lJz4ke2NvbW1lbnQuY3JlYXRpb25fZGF0ZX08L3A+XG4gICAgICA8cCBjbGFzcz0nY29tbWVudC1uYW1lJz4ke2NvbW1lbnQudXNlcm5hbWV9PC9wPlxuICAgICAgPHAgY2xhc3M9J2NvbW1lbnQtZGVzY3JpcHRpb24nPiR7Y29tbWVudC5jb21tZW50fTwvcD5cbiAgICAgIDwvbGk+XG4gICAgICBgO1xuICAgICAgbGlzdC5pbm5lckhUTUwgKz0gY29udGFpbmVyO1xuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCBkaXNwbGF5Q29tbWVudHNDb3VudGVyID0gKGNvdW50ZXIpID0+IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbW1lbnRzLWNvdW50ZXItcG9wdXAnKS5pbm5lclRleHQgPSBjb3VudGVyO1xufTtcblxuY29uc3QgZGlzcGxheU1vdmllc0NvdW50ZXIgPSAoY291bnRlciwgc2VjdGlvbikgPT4ge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtzZWN0aW9ufS1tb3ZpZXMtY291bnRlcmApLmlubmVyVGV4dCA9IGNvdW50ZXI7XG59O1xuXG5jb25zdCBjbGVhckNvbW1lbnRGb3JtID0gKCkgPT4ge1xuICBjb25zdCBzdWJtaXRFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRFcnJvcicpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlID0gJyc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50LWRlc2NyaXB0aW9uJykudmFsdWUgPSAnJztcbiAgc3VibWl0RXJyb3IuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG59O1xuXG5jb25zdCBkaXNwbGF5QWxsTGlrZXMgPSAobGlrZXMpID0+IHtcbiAgbGlrZXMuZm9yRWFjaCgobGlrZSkgPT4ge1xuICAgIGNvbnN0IGxpa2VMYWJlbElkID0gYGxpa2VDb3VudGVyJHtsaWtlLml0ZW1faWR9YDtcbiAgICBjb25zdCBsaWtlTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsaWtlTGFiZWxJZCk7XG4gICAgY29uc3QgbGlrZXNDb3VudCA9IGxpa2UubGlrZXM7XG4gICAgaWYgKGxpa2VMYWJlbCAhPT0gbnVsbCkge1xuICAgICAgbGlrZUxhYmVsLmlubmVySFRNTCA9IGxpa2VzQ291bnQ7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGluY3JlbWVudExpa2UgPSAoaWQpID0+IHtcbiAgY29uc3QgbGlrZUxhYmVsSWQgPSBgbGlrZUNvdW50ZXIke2lkfWA7XG4gIGNvbnN0IGxpa2VMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxpa2VMYWJlbElkKTtcbiAgY29uc3QgbGlrZUNvdW50ID0gbGlrZUxhYmVsLmlubmVySFRNTDtcbiAgaWYgKGxpa2VDb3VudCA9PT0gJycpIHtcbiAgICBsaWtlTGFiZWwuaW5uZXJIVE1MID0gMTtcbiAgfSBlbHNlIHtcbiAgICBsaWtlTGFiZWwuaW5uZXJIVE1MID0gcGFyc2VJbnQobGlrZUNvdW50LCAxMCkgKyAxO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVMaWtlSWNvbiA9IChpZCkgPT4ge1xuICBjb25zdCBsaWtlSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsaWtlJHtpZH1gKTtcbiAgbGlrZUljb24uY2xhc3NMaXN0LnJlbW92ZSgnZmFyJyk7XG4gIGxpa2VJY29uLmNsYXNzTGlzdC5hZGQoJ2ZhcycpO1xufTtcblxuZXhwb3J0IHtcbiAgYWRkUG9wdXBUb0RvbSwgZGlzcGxheU1vdmllcywgZGlzcGxheU1vdmllRGV0YWlsc1xuICAsIGRpc3BsYXlDb21tZW50cywgY2xlYXJDb21tZW50Rm9ybSxcbiAgZGlzcGxheUNvbW1lbnRzQ291bnRlciwgZGlzcGxheUFsbExpa2VzLCBpbmNyZW1lbnRMaWtlLCB1cGRhdGVMaWtlSWNvbiwgZGlzcGxheU1vdmllc0NvdW50ZXIsXG59OyIsImNvbnN0IGNvbW1lbnRzQ291bnRlciA9IChjb21tZW50cykgPT4gY29tbWVudHMubGVuZ3RoO1xuY29uc3QgbW92aWVzQ291bnRlciA9IChpdGVtcykgPT4gaXRlbXMubGVuZ3RoO1xuXG5leHBvcnQgeyBjb21tZW50c0NvdW50ZXIsIG1vdmllc0NvdW50ZXIgfTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdmllcyB7XG4gIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSAnaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8nO1xuICAgIHRoaXMuYXBpS2V5ID0gJzNlNmUyZWY2MWQ0YjE5NjQ1ZDkzZDU1YzkzMDk2MjQxJztcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YSgpIHtcbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYmFzZVVybCArIHRoaXMudHlwZX0/YXBpX2tleT0ke3RoaXMuYXBpS2V5fWA7XG4gICAgYXdhaXQgZmV0Y2goZW5kcG9pbnQpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuZmlsdGVyRGF0YShkYXRhLnJlc3VsdHMpO1xuICAgICAgfSk7XG4gIH1cblxuICBmaWx0ZXJEYXRhID0gKGRhdGEpID0+IHtcbiAgICBkYXRhLmZvckVhY2goKG1vdmllKSA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgIHRpdGxlOiBtb3ZpZS50aXRsZSxcbiAgICAgICAgaW1hZ2U6IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93NTAwJHttb3ZpZS5wb3N0ZXJfcGF0aH1gLFxuICAgICAgICBpZDogbW92aWUuaWQsXG4gICAgICAgIG92ZXJ2aWV3OiBtb3ZpZS5vdmVydmlldyxcbiAgICAgICAgcmVsZWFzZV9kYXRlOiBtb3ZpZS5yZWxlYXNlX2RhdGUsXG4gICAgICAgIHZvdGVfYXZlcmFnZTogbW92aWUudm90ZV9hdmVyYWdlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBtb3ZpZUluZm8gPSAoaWQpID0+IHtcbiAgICBsZXQgY2xpY2tlZE1vdmllID0gbnVsbDtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgobW92aWUpID0+IHtcbiAgICAgIGlmIChtb3ZpZS5pZCA9PT0gcGFyc2VJbnQoaWQsIDEwKSkge1xuICAgICAgICBjbGlja2VkTW92aWUgPSBtb3ZpZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xpY2tlZE1vdmllO1xuICB9XG59IiwiaW1wb3J0ICcuL0NTUy9zdHlsZS5jc3MnO1xuaW1wb3J0ICcuL0NTUy9wb3B1cC5jc3MnO1xuaW1wb3J0IHtcbiAgZGlzcGxheU1vdmllcywgZGlzcGxheU1vdmllRGV0YWlscywgZGlzcGxheUNvbW1lbnRzLFxuICBhZGRQb3B1cFRvRG9tLCBjbGVhckNvbW1lbnRGb3JtLCBkaXNwbGF5Q29tbWVudHNDb3VudGVyLFxuICBkaXNwbGF5QWxsTGlrZXMsIGluY3JlbWVudExpa2UsIHVwZGF0ZUxpa2VJY29uLCBkaXNwbGF5TW92aWVzQ291bnRlcixcbn0gZnJvbSAnLi9KUy9kaXNwbGF5LmpzJztcbmltcG9ydCB7IGNvbW1lbnRzQ291bnRlciwgbW92aWVzQ291bnRlciB9IGZyb20gJy4vSlMvY291bnRlcnMuanMnO1xuaW1wb3J0IE1vdmllcyBmcm9tICcuL0pTL01vdmllcy5qcyc7XG5pbXBvcnQgSW52b2x2ZW1lbnRBUEkgZnJvbSAnLi9KUy9pbnZvbHZlbWVudEFQSS5qcyc7XG5pbXBvcnQgTG9jYWxTdG9yYWdlSGVscGVyIGZyb20gJy4vSlMvTG9jYWxTdG9yYWdlSGVscGVyLmpzJztcblxuY29uc3QgdXBjb21pbmcgPSBuZXcgTW92aWVzKCd1cGNvbWluZycpO1xuY29uc3QgcG9wdWxhciA9IG5ldyBNb3ZpZXMoJ3BvcHVsYXInKTtcbmNvbnN0IHRvcFJhdGVkID0gbmV3IE1vdmllcygndG9wX3JhdGVkJyk7XG5jb25zdCBpbnZvbHZlbWVudCA9IG5ldyBJbnZvbHZlbWVudEFQSSgpO1xuY29uc3QgdXNlcmxpa2VzID0gbmV3IExvY2FsU3RvcmFnZUhlbHBlcigndXNlckxpa2VzJyk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGFkZFBvcHVwVG9Eb20oKTtcbiAgY29uc3Qgc3VibWl0Q29tbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQnKTtcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJyk7XG4gIGNvbnN0IGNvbW1lbnREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50LWRlc2NyaXB0aW9uJyk7XG4gIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlLXBvcCcpO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcE92ZXJsYXknKTtcbiAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wQ29udGFpbmVyJyk7XG4gIGNvbnN0IHN1Ym1pdEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEVycm9yJyk7XG4gIGxldCBjb3VudGVyID0gbnVsbDtcbiAgY29uc3QgbWFya0FsbFVzZXJMaWtlZEl0ZW1zID0gKCkgPT4ge1xuICAgIGlmICh1c2VybGlrZXMuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgdXNlcmxpa2VzLmRhdGEuZm9yRWFjaCgoaXRlbUlkKSA9PiB7XG4gICAgICAgIHVwZGF0ZUxpa2VJY29uKGl0ZW1JZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0QW5kRGlzcGxheU1vdmllRGV0YWlscyA9IChpZCwgZWxlbWVudElkKSA9PiB7XG4gICAgbGV0IG1vdmllID0gbnVsbDtcbiAgICBzd2l0Y2ggKGVsZW1lbnRJZCkge1xuICAgICAgY2FzZSAndXBjb21pbmcnOiBtb3ZpZSA9IHVwY29taW5nLm1vdmllSW5mbyhpZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncG9wdWxhcic6IG1vdmllID0gcG9wdWxhci5tb3ZpZUluZm8oaWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcF9yYXRlZCc6IG1vdmllID0gdG9wUmF0ZWQubW92aWVJbmZvKGlkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiBtb3ZpZSA9IG51bGw7XG4gICAgfVxuICAgIGRpc3BsYXlNb3ZpZURldGFpbHMobW92aWUpO1xuICAgIGludm9sdmVtZW50LmdldENvbW1lbnRzKGlkKS50aGVuKCgpID0+IHtcbiAgICAgIGRpc3BsYXlDb21tZW50cyhpbnZvbHZlbWVudC5wb3B1cENvbW1lbnRzKTtcbiAgICAgIGRpc3BsYXlDb21tZW50c0NvdW50ZXIoY29tbWVudHNDb3VudGVyKGludm9sdmVtZW50LnBvcHVwQ29tbWVudHMpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRIaWRkZW5JbnB1dCcpLnZhbHVlID0gaWQ7XG4gIH07XG5cbiAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lclRvTW92aWVzID0gKGVsZW1lbnRJZCkgPT4ge1xuICAgIGNvbnN0IG1vdmllQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGxpc3QtJHtlbGVtZW50SWR9YCk7XG4gICAgbW92aWVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGxldCBpZCA9IG51bGw7XG4gICAgICBsZXQgc2hvdWxkT3BlblBvcHVwID0gZmFsc2U7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FyZC1pbWctdG9wJykpIHtcbiAgICAgICAgaWQgPSBldmVudC50YXJnZXQuaWQucmVwbGFjZSgnaW1nJywgJycpO1xuICAgICAgICBzaG91bGRPcGVuUG9wdXAgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtdGl0bGUnKSkge1xuICAgICAgICBpZCA9IGV2ZW50LnRhcmdldC5pZC5yZXBsYWNlKCd0aXRsZScsICcnKTtcbiAgICAgICAgc2hvdWxkT3BlblBvcHVwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmYS1jb21tZW50LWRvdHMnKSkge1xuICAgICAgICBpZCA9IGV2ZW50LnRhcmdldC5pZC5yZXBsYWNlKCdjb21tZW50JywgJycpO1xuICAgICAgICBzaG91bGRPcGVuUG9wdXAgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZhLWhlYXJ0JykpIHtcbiAgICAgICAgaWQgPSBldmVudC50YXJnZXQuaWQucmVwbGFjZSgnbGlrZScsICcnKTtcbiAgICAgICAgaWYgKCF1c2VybGlrZXMuY29udGFpbkl0ZW0oaWQpKSB7XG4gICAgICAgICAgaW52b2x2ZW1lbnQuYWRkTGlrZShpZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpbmNyZW1lbnRMaWtlKGlkKTtcbiAgICAgICAgICAgIHVwZGF0ZUxpa2VJY29uKGlkKTtcbiAgICAgICAgICAgIHVzZXJsaWtlcy5wdXNoSXRlbShpZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRPcGVuUG9wdXApIHtcbiAgICAgICAgY2xlYXJDb21tZW50Rm9ybSgpO1xuICAgICAgICBnZXRBbmREaXNwbGF5TW92aWVEZXRhaWxzKGlkLCBlbGVtZW50SWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHVwY29taW5nLmdldERhdGEoKS50aGVuKCgpID0+IHtcbiAgICBkaXNwbGF5TW92aWVzKHVwY29taW5nLmRhdGEsICd1cGNvbWluZycpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJUb01vdmllcygndXBjb21pbmcnKTtcbiAgICBjb3VudGVyID0gbW92aWVzQ291bnRlcih1cGNvbWluZy5kYXRhKTtcbiAgICBkaXNwbGF5TW92aWVzQ291bnRlcihjb3VudGVyLCAndXBjb21pbmcnKTtcbiAgfSk7XG5cbiAgcG9wdWxhci5nZXREYXRhKCkudGhlbigoKSA9PiB7XG4gICAgZGlzcGxheU1vdmllcyhwb3B1bGFyLmRhdGEsICdwb3B1bGFyJyk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lclRvTW92aWVzKCdwb3B1bGFyJyk7XG4gICAgY291bnRlciA9IG1vdmllc0NvdW50ZXIocG9wdWxhci5kYXRhKTtcbiAgICBkaXNwbGF5TW92aWVzQ291bnRlcihjb3VudGVyLCAncG9wdWxhcicpO1xuICB9KTtcblxuICB0b3BSYXRlZC5nZXREYXRhKCkudGhlbigoKSA9PiB7XG4gICAgZGlzcGxheU1vdmllcyh0b3BSYXRlZC5kYXRhLCAndG9wX3JhdGVkJyk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lclRvTW92aWVzKCd0b3BfcmF0ZWQnKTtcbiAgICBjb3VudGVyID0gbW92aWVzQ291bnRlcih0b3BSYXRlZC5kYXRhKTtcbiAgICBkaXNwbGF5TW92aWVzQ291bnRlcihjb3VudGVyLCAndG9wX3JhdGVkJyk7XG4gIH0pO1xuXG4gIGludm9sdmVtZW50LmdldExpa2VzKCkudGhlbigoKSA9PiB7XG4gICAgZGlzcGxheUFsbExpa2VzKGludm9sdmVtZW50Lmxpa2VzKTtcbiAgICBtYXJrQWxsVXNlckxpa2VkSXRlbXMoKTtcbiAgfSk7XG5cbiAgc3VibWl0Q29tbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRIaWRkZW5JbnB1dCcpLnZhbHVlO1xuICAgIGlmIChuYW1lLnZhbHVlID09PSAnJyB8fCBjb21tZW50RGVzY3JpcHRpb24udmFsdWUgPT09ICcnKSB7XG4gICAgICBzdWJtaXRFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52b2x2ZW1lbnQuYWRkQ29tbWVudChpZCwgbmFtZS52YWx1ZSwgY29tbWVudERlc2NyaXB0aW9uLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgaW52b2x2ZW1lbnQuZ2V0Q29tbWVudHMoaWQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRpc3BsYXlDb21tZW50cyhpbnZvbHZlbWVudC5wb3B1cENvbW1lbnRzKTtcbiAgICAgICAgICBkaXNwbGF5Q29tbWVudHNDb3VudGVyKGNvbW1lbnRzQ291bnRlcihpbnZvbHZlbWVudC5wb3B1cENvbW1lbnRzKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBjbGVhckNvbW1lbnRGb3JtKCk7XG4gICAgfVxuICB9KTtcbiAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgfSk7XG5cbiAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICB9KTtcbn0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52b2x2ZW1lbnRBUEkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnVybCA9ICdodHRwczovL3VzLWNlbnRyYWwxLWludm9sdmVtZW50LWFwaS5jbG91ZGZ1bmN0aW9ucy5uZXQvY2Fwc3RvbmVBcGkvYXBwcy9vQ3I4dFQyWEZHUXBuY3o0RWJ4ZSc7XG4gICAgdGhpcy5wb3B1cENvbW1lbnRzID0gW107XG4gICAgdGhpcy5saWtlcyA9IFtdO1xuICB9XG5cbiAgYXN5bmMgYWRkQ29tbWVudChpZCwgbmFtZSwgY29tbWVudCkge1xuICAgIGNvbnN0IGVuZFBvaW50ID0gYCR7dGhpcy51cmx9L2NvbW1lbnRzYDtcbiAgICBhd2FpdCBmZXRjaChlbmRQb2ludCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgaXRlbV9pZDogaWQsXG4gICAgICAgIHVzZXJuYW1lOiBuYW1lLFxuICAgICAgICBjb21tZW50LFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRDb21tZW50cyhpZCkge1xuICAgIGNvbnN0IGVuZFBvaW50ID0gYCR7dGhpcy51cmx9L2NvbW1lbnRzP2l0ZW1faWQ9JHtpZH1gO1xuICAgIHRoaXMucG9wdXBDb21tZW50cyA9IFtdO1xuICAgIGF3YWl0IGZldGNoKGVuZFBvaW50KS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5wb3B1cENvbW1lbnRzID0gZGF0YTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGFkZExpa2UoaXRlbUlkKSB7XG4gICAgY29uc3QgZW5kUG9pbnQgPSBgJHt0aGlzLnVybH0vbGlrZXNgO1xuICAgIGF3YWl0IGZldGNoKGVuZFBvaW50LCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpdGVtX2lkOiBpdGVtSWQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldExpa2VzKCkge1xuICAgIGNvbnN0IGVuZFBvaW50ID0gYCR7dGhpcy51cmx9L2xpa2VzYDtcbiAgICB0aGlzLmxpa2VzID0gW107XG4gICAgYXdhaXQgZmV0Y2goZW5kUG9pbnQpLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmxpa2VzID0gZGF0YTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2FsU3RvcmFnZUhlbHBlciB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1OYW1lKSB7XG4gICAgdGhpcy5kYXRhID0gW107XG4gICAgdGhpcy5pdGVtTmFtZSA9IGl0ZW1OYW1lO1xuICAgIHRoaXMuZ2V0SXRlbXMoKTtcbiAgfVxuXG4gIGdldEl0ZW1zKCkge1xuICAgIGNvbnN0IGRhdGFGcm9tTG9jYWxTdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLml0ZW1OYW1lKSk7XG4gICAgaWYgKGRhdGFGcm9tTG9jYWxTdG9yYWdlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhRnJvbUxvY2FsU3RvcmFnZTtcbiAgICB9XG4gIH1cblxuICBzZXRJdGVtcygpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLml0ZW1OYW1lLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcbiAgfVxuXG4gIHB1c2hJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLmRhdGEucHVzaChpdGVtKTtcbiAgICB0aGlzLnNldEl0ZW1zKCk7XG4gIH1cblxuICBjb250YWluSXRlbShpdGVtc0lkKSB7XG4gICAgaWYgKHRoaXMuZGF0YS5pbmRleE9mKGl0ZW1zSWQpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59Il0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsImNhbGwiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImRpc3BsYXlNb3ZpZXMiLCJzZWN0aW9uSWQiLCJzZWN0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJmb3JFYWNoIiwicm93IiwiaW1hZ2UiLCJ0aXRsZSIsImNhcmQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJkaXNwbGF5Q29tbWVudHMiLCJjb21tZW50cyIsIm5vQ29tbWVudE1lc3NhZ2UiLCJpbm5lckhUTUwiLCJjb21tZW50IiwiY29udGFpbmVyIiwiY3JlYXRpb25fZGF0ZSIsInVzZXJuYW1lIiwiZGlzcGxheUNvbW1lbnRzQ291bnRlciIsImNvdW50ZXIiLCJpbm5lclRleHQiLCJkaXNwbGF5TW92aWVzQ291bnRlciIsImNsZWFyQ29tbWVudEZvcm0iLCJzdWJtaXRFcnJvciIsInVwZGF0ZUxpa2VJY29uIiwibGlrZUljb24iLCJjb21tZW50c0NvdW50ZXIiLCJtb3ZpZXNDb3VudGVyIiwiaXRlbXMiLCJNb3ZpZXMiLCJ0eXBlIiwiYmFzZVVybCIsImFwaUtleSIsImFzeW5jIiwiZW5kcG9pbnQiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJmaWx0ZXJEYXRhIiwicmVzdWx0cyIsIm1vdmllIiwicG9zdGVyX3BhdGgiLCJvdmVydmlldyIsInJlbGVhc2VfZGF0ZSIsInZvdGVfYXZlcmFnZSIsIm1vdmllSW5mbyIsImNsaWNrZWRNb3ZpZSIsInBhcnNlSW50IiwidXBjb21pbmciLCJwb3B1bGFyIiwidG9wUmF0ZWQiLCJpbnZvbHZlbWVudCIsInVybCIsInBvcHVwQ29tbWVudHMiLCJsaWtlcyIsImVuZFBvaW50IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJpdGVtX2lkIiwicmVzIiwiZXJyb3IiLCJpdGVtSWQiLCJ1c2VybGlrZXMiLCJpdGVtTmFtZSIsImdldEl0ZW1zIiwiZGF0YUZyb21Mb2NhbFN0b3JhZ2UiLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtcyIsInNldEl0ZW0iLCJwdXNoSXRlbSIsImNvbnRhaW5JdGVtIiwiaXRlbXNJZCIsImluZGV4T2YiLCJhZGRFdmVudExpc3RlbmVyIiwic3VibWl0Q29tbWVudCIsImNvbW1lbnREZXNjcmlwdGlvbiIsImNsb3NlQnRuIiwib3ZlcmxheSIsInBvcHVwIiwiYWRkRXZlbnRMaXN0ZW5lclRvTW92aWVzIiwiZWxlbWVudElkIiwiZXZlbnQiLCJzaG91bGRPcGVuUG9wdXAiLCJjb250YWlucyIsInJlcGxhY2UiLCJhZGRMaWtlIiwibGlrZUxhYmVsSWQiLCJsaWtlTGFiZWwiLCJsaWtlQ291bnQiLCJpbmNyZW1lbnRMaWtlIiwicG9zdGVyIiwicmVsZWFzZURhdGUiLCJ2b3RpbmdBdmVyYWdlIiwic3JjIiwiZGlzcGxheU1vdmllRGV0YWlscyIsImdldENvbW1lbnRzIiwiZ2V0QW5kRGlzcGxheU1vdmllRGV0YWlscyIsImdldERhdGEiLCJnZXRMaWtlcyIsImxpa2UiLCJsaWtlc0NvdW50IiwicHJldmVudERlZmF1bHQiLCJhZGRDb21tZW50Il0sInNvdXJjZVJvb3QiOiIifQ==